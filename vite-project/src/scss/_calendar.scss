.calendar {
	width: clamp(240px, 90vw, 560px);
	display: flex;
	flex-direction: column;
  margin: 0 auto;
  background-image: url('@/assets/images/alpaca.png');
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-size: cover;
  border-radius: toRem(6);
}

.calendar__header {
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  padding: toRem(12) toRem(8) toRem(4) toRem(8);
}

.calendar__arrow {
  width: toRem(32);
  height: toRem(32);
  background-color: transparent;
  border: none;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-size: toRem(8) toRem(12);
  cursor: pointer;

  &--prev {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='12' viewBox='0 0 8 12' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 1.4L6.48649 0L0 6L6.48649 12L8 10.6L3.02703 6L8 1.4Z' fill='white'/%3E%3C/svg%3E");
  }

  &--next {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='12' viewBox='0 0 8 12' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.76837e-07 1.4L1.51351 0L8 6L1.51351 12L4.76837e-07 10.6L4.97297 6L4.76837e-07 1.4Z' fill='white'/%3E%3C/svg%3E");
  }
}

.calendar__title {
  font-family: var(--main-font);
  font-size: toRem(12);
  line-height: toRem(14);
  font-weight: 500;
  color: var(--text-color);
  text-transform: uppercase;
}

.calendar__grid {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  list-style: none;
  margin: 0;
  padding: toRem(8) toRem(8);
}

.calendar__day {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  aspect-ratio: 1 / 1;
  padding: toRem(4) 0;
}

.calendar__day-nr {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  aspect-ratio: 1 / 1;
  font-size: toRem(12);
  line-height: 200%;
  font-family: var(--main-font);
  font-weight: 500;
  color: var(--text-color);
}

.calendar__day--single .calendar__day-nr,
.calendar__day--start .calendar__day-nr,
.calendar__day--end .calendar__day-nr {
  width: 100%;
  height: 100%;
  border-radius: 100vh;
  background-color: var(--bg-single-day);
  color: var(--active-text-color);
  border: toRem(3) solid var(--outline-border);
  outline: toRem(1) solid var(--outline-inner-border);
  outline-offset: toRem(-4);
  z-index: 2;
  transition: color 0.25s ease-in;
}

.calendar__day--single {
  padding-left: toRem(4);
  padding-right: toRem(4);
}

.calendar__day--active {
  font-weight: bold;
  color: #000; 
}

.calendar__day--inactive .calendar__day-nr {
  color: var(--inactive-text-color);
  transition: color 0.25s ease-in;
}

.calendar__day--inactive.calendar__day--single .calendar__day-nr {
  color: var(--active-text-color);
  transition: color 0.25s ease-in;
}

.calendar__day--selected .calendar__day-nr {
	background-color: var(--bg-day);
  color: var(--active-text-color);
  transition: color 0.25s ease-in;
}

.calendar__day--selected.calendar__day--start,
.calendar__day--selected.calendar__day--end {
  position: relative;
  background-color: transparent;
  padding-left: toRem(4);
  padding-right: toRem(4);
  z-index: 2;
  transform: translateZ(0);

  &::before {
    position: absolute;
    content: '';
    top: 0.25rem;
    width: 50%;
    height: calc(100% - 0.5rem);
    background-color: var(--bg-day);
  }
}

.calendar__day--selected.calendar__day--start::before {
  right: 0;
  z-index: 0;
}

.calendar__day--selected.calendar__day--end::before {
  left: 0;
  z-index: 0;
}

.calendar__day--selected:nth-child(7n+1) .calendar__day-nr {
	position: relative;

  &::before {
    position: absolute;
    content: '';
    top: 0;
    left: toRem(-8);
    width: toRem(10);
    height: 100%;
    background-color: var(--bg-day);
  }
}

.calendar__day--selected:nth-child(7n+7) .calendar__day-nr {
	position: relative;

  &::after {
    position: absolute;
    content: '';
    top: 50%;
    transform: translateY(-50%);
    right: toRem(-8);
    width: toRem(10);
    height: 100%;
    background-color: var(--bg-day);
  }
}

.calendar__day--selected:nth-child(7n+1).calendar__day--start {
  .calendar__day-nr {
    &::before {
      display: none;
    }
  }
}

.calendar__day--selected:nth-child(7n+1).calendar__day--end {
  &::before {
    width: calc(50% + 0.5rem);
    left: -0.5rem;
  }

  .calendar__day-nr {
    &::before {
      display: none;
    }
  }
}

.calendar__day--selected:nth-child(7n+7).calendar__day--start {
  &::before {
    width: calc(50% + 0.5rem);
    right: -0.5rem;
  }
  .calendar__day-nr {
    &::after {
      display: none;
    }
  }
}

.calendar__day--selected:nth-child(7n+7).calendar__day--end {
  &::before {
    width: calc(50% + 0.5rem);
    left: -0.5rem;
  }

  .calendar__day-nr {
    &::after {
      display: none;
    }
  }
}

.calendar__day--selected.calendar__day--start .calendar__day-nr,
.calendar__day--selected.calendar__day--end .calendar__day-nr {
  background-color: var(--bg-single-day);
}

@media only screen and (min-width: 1000px) {
  .calendar__day {
    cursor: pointer;
  }

  .calendar__arrow {
    border-radius: toRem(4);
    transition: 0.25s ease-in;
    &:hover {
      background-color: rgba(38, 116, 161, 0.2);
      transition: 0.25s ease-in;
    }
  }
}